CREATE TABLE "tipo_actividad" (  "id"          serial8     NOT NULL,  "codigo"      varchar(2)  NOT NULL,  "nombre "     varchar(50) NOT NULL,  "descripcion" varchar(255),  PRIMARY KEY ("id"),  CONSTRAINT "code_codigo_tipo_actividad" UNIQUE ("codigo"));CREATE TABLE "tipo_gasto_directo" (  "id"          serial8     NOT NULL,  "nombre"      varchar(50) NOT NULL,  "descripcion" varchar(255),  PRIMARY KEY ("id"));CREATE TABLE "tipo_gasto_indirecto" (  "id"          serial8     NOT NULL,  "nombre"      varchar(50) NOT NULL,  "descripcion" varchar(255),  PRIMARY KEY ("id"));CREATE TABLE "ueb" (  "id"                     serial8      NOT NULL,  "codigo_ueb"             varchar,  "nombre_ueb"             varchar(255) NOT NULL,  "descripcion"            varchar(255),  "coeficiente_est_MN"     float8,  "coeficiente_est_MLC"    float8,  "pago_resultado_percent" float8,  PRIMARY KEY ("id"));CREATE TABLE "subelemento_gasto" (  "id"                 serial8     NOT NULL,  "subelemento"        varchar     NOT NULL,  "mostrar"            bool,  "orden"              int8,  "id_elemento"        int8,  "codigo_subelemento" varchar(50) NOT NULL,  "descripcion"        varchar(255),  PRIMARY KEY ("id"));CREATE TABLE "elemento_gasto" (  "id"              serial8     NOT NULL,  "elemento"        varchar     NOT NULL,  "mostrar"         bool,  "orden"           int8,  "descripcion"     varchar(255),  "codigo_elemento" varchar(50) NOT NULL,  PRIMARY KEY ("id"));CREATE TABLE "personas_autorizadas" (  "id"         serial8      NOT NULL,  "id_usuario" varchar(255) NOT NULL,  "id_cargo"   int8         NOT NULL,  PRIMARY KEY ("id"));CREATE TABLE "normas_consumo" (  "id"                                      serial8 NOT NULL,  "id_actividad"                            int8,  "id_plan_produccion"                      int8,  "capacidad_instalada"                     int8,  "capacidad_instalada_utilizacion_percent" float8,  "produccion_periodo_anterior"             float8,  "margen_utilidad_percent_cuc"             float8,  "precio"                                  float8,  "id_ueb"                                  int8,  "nombre_aprueba"                          varchar(255),  "cargo_aprueba"                           varchar(255),  "margen_utilidad_percent_mt"              float8,  PRIMARY KEY ("id"));CREATE TABLE "actividad" (  "id"                serial8     NOT NULL,  "codigo"            varchar(27) NOT NULL,  "id_tipo_actividad" int8,  "nombre"            varchar(100),  "id_unidad_medida"  int8,  "descripcion"       varchar(255),  PRIMARY KEY ("id"));CREATE TABLE "gasto_directo" (  "id"                    serial8      NOT NULL,  "codigo"                varchar(27)  NOT NULL,  "nombre"                varchar(100) NOT NULL,  "descripcion"           varchar(255),  "id_tipo_gasto_directo" int8,  "precio_mn"             float8       NOT NULL,  "precio_cl"             float8       NOT NULL,  "id_unidad_medida"      int8,  "id_elemento_gasto"     int8,  "id_subelemento"        int8,  PRIMARY KEY ("id"));CREATE TABLE "gasto_indirecto" (  "id"                      serial8      NOT NULL,  "codigo"                  varchar(27)  NOT NULL,  "nombre"                  varchar(100) NOT NULL,  "descripcion"             varchar,  "id_tipo_gasto_indirecto" int8,  PRIMARY KEY ("id"));CREATE TABLE "etapa" (  "id"          serial8     NOT NULL,  "nombre"      varchar(50) NOT NULL,  "descripcion" varchar(255),  "orden"       int8,  PRIMARY KEY ("id"));CREATE TABLE "configuracion" (  "id_configuracion"                  int8 NOT NULL,  "nombre_entidad"                    varchar(255),  "codigo_entidad"                    varchar(255),  "organismo"                         varchar(255),  "horas_por_mes"                     float4 DEFAULT 0,  "gasto_promedio_estimacion_divisa"  float8 DEFAULT 0,  "pago_por_resultado_percent"        float8 DEFAULT 0,  "pago_por_seguridad_social_percent" float8 DEFAULT 0,  "fuerza_trabajo_percent"            float8 DEFAULT 0,  "margen_utilidad_prod_MLC"          float8 DEFAULT 0,  "margen_utilidad_prod_MT"           float8 DEFAULT 0,  "margen_utilidad_servicios_MLC"     float8 DEFAULT 0,  "margen_utilidad_servicios_MT"      float8 DEFAULT 0,  "id_elemento"                       int8,  "id_subelemento"                    int8,  "id_ueb"                            int8 NOT NULL,  "id_cliente"                        int8 NOT NULL,  PRIMARY KEY ("id_configuracion"));CREATE TABLE "categoria_agrupacion" (  "id"                  serial8     NOT NULL,  "nombre"              varchar(50) NOT NULL,  "descripcion"         varchar(100),  "orden"               int8        NOT NULL,  "mostrar_ficha_costo" bool,  PRIMARY KEY ("id"));CREATE TABLE "categoria_agrupacion_indirecta" (  "id"                  serial8     NOT NULL,  "nombre"              varchar(50) NOT NULL,  "descripcion"         varchar(100),  "orden"               int8        NOT NULL,  "mostrar_ficha_costo" bool,  PRIMARY KEY ("id"));CREATE TABLE "categoria_agrupacion_elemento_gasto" (  "id"                      serial8 NOT NULL,  "id_categoria_agrupacion" int8,  "id_elemento_gasto"       int8,  PRIMARY KEY ("id"));CREATE TABLE "categoria_agrupacion_indirecta_elemento_gasto" (  "id"                                serial8 NOT NULL,  "id_categoria_agrupacion_indirecta" int8,  "id_elemento_gasto"                 int8,  "orden"                             int8,  PRIMARY KEY ("id"));CREATE TABLE "categoria_agrupacion_indirecta_subelemento_gasto" (  "id"                                serial8 NOT NULL,  "id_categoria_agrupacion_indirecta" int8,  "id_subelemento_gasto"              int8,  "orden"                             int8,  PRIMARY KEY ("id"));CREATE TABLE "cliente" (  "id"          serial8      NOT NULL,  "nombre"      varchar(255) NOT NULL,  "descripcion" varchar,  PRIMARY KEY ("id"));CREATE TABLE "cargo" (  "id"                    serial8      NOT NULL,  "nombre"                varchar(255) NOT NULL,  "descripcion"           varchar(255),  "salario_basico_minimo" float8,  "salario_basico_maximo" float8,  "salario_minimo_MLC"    float8,  "salario_maximo_MLC"    float8,  PRIMARY KEY ("id"));CREATE TABLE "unidad_medida" (  "id"                   serial8      NOT NULL,  "codigo_unidad_medida" varchar(50)  NOT NULL,  "nombre"               varchar(255) NOT NULL,  "descripcion"          varchar(255),  PRIMARY KEY ("id"));CREATE TABLE "coeficiente_gastos_indirectos_produccion" (  "id"                                        serial8 NOT NULL,  "coeficiente_gasto_total_MN"                float8,  "coeficiente_gasto_total_MLC"               float8,  "coeficiente_gasto_total_MT"                float8,  "coeficiente_gasto_deprec_MN"               float8,  "coeficiente_gasto_deprec_MLC"              float8,  "coeficiente_gasto_deprec_MT"               float8,  "coeficiente_gasto_mantenimiento_y_rep_MN"  float8,  "coeficiente_gasto_mantenimiento_y_rep_MLC" float8,  "coeficiente_gasto_mantenimiento_y_rep_MT"  float8,  PRIMARY KEY ("id"));CREATE TABLE "orden_trabajo" (  "id"                   serial8      NOT NULL,  "id_actividad"         int8,  "id_cliente"           int8,  "numero_contrato"      varchar(25)  NOT NULL,  "vendedor"             varchar(255),  "observaciones"        varchar(255),  "orden_trabajo"        varchar(255) NOT NULL,  "fecha_entrega"        date,  "fecha_confeccion"     date,  "id_ueb"               int8,  "nombre_aprobacion"    varchar(255),  "descripcion_servicio" varchar(255),  "motivo_servicio"      varchar(255),  "nombre_conformidad"   varchar(255),  "id_cargo"             int8,  "identidad_usuario"    varchar(11)  NOT NULL,  "cerrada"              bool DEFAULT false,  "id_ficha_costo"       int8,  PRIMARY KEY ("id"));CREATE TABLE "ficha_costo" (  "id"           serial8 NOT NULL,  "id_actividad" int8,  "aprobada"     bool,  PRIMARY KEY ("id"));CREATE TABLE "orden_facturacion" (  "id"               serial8     NOT NULL,  "codigo"           varchar(50) NOT NULL,  "p/s"              varchar(50),  "id_unidad_medida" int8,  "cantidad"         int8,  "precioMN"         float8,  "precioMLC"        float8,  "importeMN"        float8,  "importeMLC"       float8,  "descripcion"      varchar(255),  "id_orden_trabajo" int8,  PRIMARY KEY ("id"));CREATE TABLE "trabajador" (  "id"       serial8      NOT NULL,  "nombre"   varchar(255) NOT NULL,  "id_cargo" int8,  "id_ueb"   int8,  PRIMARY KEY ("id"));CREATE TABLE "material" (  "id"               serial8 NOT NULL,  "fecha"            date,  "importeMN"        float8,  "importeMLC"       float8,  "no_v_salida"      varchar(50),  "total"            float8,  "id_orden_trabajo" int8,  PRIMARY KEY ("id"));CREATE TABLE "reporte_diario_laboral" (  "id"               serial8 NOT NULL,  "id_trabajador"    int8,  "fecha"            date,  "cant_horas"       int8,  "id_orden_trabajo" int8,  PRIMARY KEY ("id"));CREATE TABLE "ueb_etapa" (  "id"       serial8 NOT NULL,  "id_ueb"   int8,  "id_etapa" int8,  PRIMARY KEY ("id"));CREATE TABLE "plan_produccion" (  "id"     serial8 NOT NULL,  "id_ueb" int8,  PRIMARY KEY ("id"));CREATE TABLE "norma_consumo_ficha_costo" (  "id"               serial8 NOT NULL,  "id_norma_consumo" int8,  "id_ficha_costo"   int8,  PRIMARY KEY ("id"));CREATE TABLE "ueb_actividades_plan_produccion" (  "id"                 serial8 NOT NULL,  "id_plan_produccion" int8,  "id_actividad"       int8,  PRIMARY KEY ("id"));CREATE TABLE "coeficiente" (  "id"                                           serial8 NOT NULL,  "fecha"                                        date,  "id_coeficientes_gastos_indirectos_produccion" int8,  "id_coeficiente_gasto_generales_admon"         int8,  "id_coeficiente_gastos_bancarios"              int8,  "id_coeficiente_gastos_distribucion_ventas"    int8,  PRIMARY KEY ("id"));CREATE TABLE "coeficiente_gastos_generales_admon" (  "id"                                        serial8 NOT NULL,  "coeficiente_gasto_total_MN"                float8,  "coeficiente_gasto_total_MLC"               float8,  "coeficiente_gasto_total_MT"                float8,  "coeficiente_gasto_deprec_MN"               float8,  "coeficiente_gasto_deprec_MLC"              float8,  "coeficiente_gasto_deprec_MT"               float8,  "coeficiente_gasto_mantenimiento_y_rep_MN"  float8,  "coeficiente_gasto_mantenimiento_y_rep_MLC" float8,  "coeficiente_gasto_mantenimiento_y_rep_MT"  float8,  PRIMARY KEY ("id"));CREATE TABLE "coeficiente_gastos_bancarios" (  "id"                                        serial8 NOT NULL,  "coeficiente_gasto_total_MN"                float8,  "coeficiente_gasto_total_MLC"               float8,  "coeficiente_gasto_total_MT"                float8,  "coeficiente_gasto_deprec_MN"               float8,  "coeficiente_gasto_deprec_MLC"              float8,  "coeficiente_gasto_deprec_MT"               float8,  "coeficiente_gasto_mantenimiento_y_rep_MN"  float8,  "coeficiente_gasto_mantenimiento_y_rep_MLC" float8,  "coeficiente_gasto_mantenimiento_y_rep_MT"  float8,  PRIMARY KEY ("id"));CREATE TABLE "coeficiente_gastos_distribucion_ventas" (  "id"                                        serial8 NOT NULL,  "coeficiente_gasto_total_MN"                float8,  "coeficiente_gasto_total_MLC"               float8,  "coeficiente_gasto_total_MT"                float8,  "coeficiente_gasto_deprec_MN"               float8,  "coeficiente_gasto_deprec_MLC"              float8,  "coeficiente_gasto_deprec_MT"               float8,  "coeficiente_gasto_mantenimiento_y_rep_MN"  float8,  "coeficiente_gasto_mantenimiento_y_rep_MLC" float8,  "coeficiente_gasto_mantenimiento_y_rep_MT"  float8,  PRIMARY KEY ("id"));CREATE TABLE "gastos_actividad" (  "id"                 serial8 NOT NULL,  "id_gasto_directo"   int8,  "id_actividad"       int8,  "id_gasto_indirecto" int8,  PRIMARY KEY ("id"));ALTER TABLE "subelemento_gasto"  ADD CONSTRAINT "fk_subelemento_gasto_id_elemento_gasto" FOREIGN KEY ("id_elemento") REFERENCES "elemento_gasto" ("id");ALTER TABLE "actividad"  ADD CONSTRAINT "fk_actividad_tipo_actividad_id" FOREIGN KEY ("id_tipo_actividad") REFERENCES "tipo_actividad" ("id");ALTER TABLE "gasto_directo"  ADD CONSTRAINT "fk_gasto_directo_tipo_gasto_directo" FOREIGN KEY ("id_tipo_gasto_directo") REFERENCES "tipo_gasto_directo" ("id");ALTER TABLE "gasto_directo"  ADD CONSTRAINT "fk_gasto_directo_element_gasto_id" FOREIGN KEY ("id_elemento_gasto") REFERENCES "elemento_gasto" ("id");ALTER TABLE "gasto_directo"  ADD CONSTRAINT "fk_gasto_directo_subelemento_id" FOREIGN KEY ("id_subelemento") REFERENCES "subelemento_gasto" ("id");ALTER TABLE "gasto_indirecto"  ADD CONSTRAINT "fk_gasto_indirecto_tipo_gasto_indirecto_id" FOREIGN KEY ("id_tipo_gasto_indirecto") REFERENCES "tipo_gasto_indirecto" ("id");ALTER TABLE "categoria_agrupacion_elemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_elemento_gasto_id" FOREIGN KEY ("id_elemento_gasto") REFERENCES "elemento_gasto" ("id");ALTER TABLE "categoria_agrupacion_elemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_id_categoria" FOREIGN KEY ("id_categoria_agrupacion") REFERENCES "categoria_agrupacion" ("id");ALTER TABLE "categoria_agrupacion_indirecta_elemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_elemento_gasto" FOREIGN KEY ("id_elemento_gasto") REFERENCES "elemento_gasto" ("id");ALTER TABLE "categoria_agrupacion_indirecta_elemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_categoria_indirecta_id" FOREIGN KEY ("id_categoria_agrupacion_indirecta") REFERENCES "categoria_agrupacion_indirecta" ("id");ALTER TABLE "categoria_agrupacion_indirecta_subelemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_indirecta_subelemento_id" FOREIGN KEY ("id_subelemento_gasto") REFERENCES "subelemento_gasto" ("id");ALTER TABLE "categoria_agrupacion_indirecta_subelemento_gasto"  ADD CONSTRAINT "fk_categoria_agrupacion_indirecta_categoria_indirecta_id" FOREIGN KEY ("id_categoria_agrupacion_indirecta") REFERENCES "categoria_agrupacion_indirecta" ("id");ALTER TABLE "configuracion"  ADD CONSTRAINT "fk_configuracion_elemento_id" FOREIGN KEY ("id_elemento") REFERENCES "elemento_gasto" ("id");ALTER TABLE "configuracion"  ADD CONSTRAINT "fk_configuracion_subelemento_id" FOREIGN KEY ("id_subelemento") REFERENCES "subelemento_gasto" ("id");ALTER TABLE "configuracion"  ADD CONSTRAINT "fk_configuracion_ueb_id" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE "configuracion"  ADD CONSTRAINT "fk_configuracion_cliente_id" FOREIGN KEY ("id_cliente") REFERENCES "cliente" ("id");ALTER TABLE "personas_autorizadas"  ADD CONSTRAINT "fk_autorizaicion_cargo_id" FOREIGN KEY ("id_cargo") REFERENCES "cargo" ("id");ALTER TABLE "actividad"  ADD CONSTRAINT "fk_actividad_unidad_medida_id" FOREIGN KEY ("id_unidad_medida") REFERENCES "unidad_medida" ("id");ALTER TABLE "gasto_directo"  ADD CONSTRAINT "fk_gasto_directo_unidad_medidad_id" FOREIGN KEY ("id_unidad_medida") REFERENCES "unidad_medida" ("id");ALTER TABLE "orden_trabajo"  ADD CONSTRAINT "fk_orden_actividad_id" FOREIGN KEY ("id_actividad") REFERENCES "actividad" ("id");ALTER TABLE "orden_trabajo"  ADD CONSTRAINT "fk_orden_cliente_id" FOREIGN KEY ("id_cliente") REFERENCES "cliente" ("id");ALTER TABLE "orden_trabajo"  ADD CONSTRAINT "fk_orden_ueb_id" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE "orden_trabajo"  ADD CONSTRAINT "fk_orden_cargo_id" FOREIGN KEY ("id_cargo") REFERENCES "cargo" ("id");ALTER TABLE "orden_trabajo"  ADD CONSTRAINT "fk_orden_ficha_costo_id" FOREIGN KEY ("id_ficha_costo") REFERENCES "ficha_costo" ("id");ALTER TABLE "trabajador"  ADD CONSTRAINT "fk_trabajador_cargo_id" FOREIGN KEY ("id_cargo") REFERENCES "cargo" ("id");ALTER TABLE "ueb_etapa"  ADD CONSTRAINT "fk_ueb_etapa_id_etapa" FOREIGN KEY ("id_etapa") REFERENCES "etapa" ("id");ALTER TABLE "ueb_etapa"  ADD CONSTRAINT "fk_ueb_etapa_id_ueb" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE "trabajador"  ADD CONSTRAINT "fk_trabajador_ueb_id" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE "normas_consumo"  ADD CONSTRAINT "fk_norma_actividad_id" FOREIGN KEY ("id_actividad") REFERENCES "actividad" ("id");ALTER TABLE "normas_consumo"  ADD CONSTRAINT "fk_norma_plan_produccion_id" FOREIGN KEY ("id_plan_produccion") REFERENCES "plan_produccion" ("id");ALTER TABLE "normas_consumo"  ADD CONSTRAINT "fk_norma_ueb_id" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE "norma_consumo_ficha_costo"  ADD CONSTRAINT "fk_norma_consumo_ficha_costo_id" FOREIGN KEY ("id_ficha_costo") REFERENCES "ficha_costo" ("id");ALTER TABLE "norma_consumo_ficha_costo"  ADD CONSTRAINT "fk_norma_consumo_norma_id" FOREIGN KEY ("id_norma_consumo") REFERENCES "normas_consumo" ("id");ALTER TABLE "reporte_diario_laboral"  ADD CONSTRAINT "fk_reporte_diario_trabajador_id" FOREIGN KEY ("id_trabajador") REFERENCES "trabajador" ("id");ALTER TABLE "reporte_diario_laboral"  ADD CONSTRAINT "fk_reporte_diario_orden_trabajo_id" FOREIGN KEY ("id_orden_trabajo") REFERENCES "orden_trabajo" ("id");ALTER TABLE "material"  ADD CONSTRAINT "fk_material_orden_trabajo_id" FOREIGN KEY ("id_orden_trabajo") REFERENCES "orden_trabajo" ("id");ALTER TABLE "orden_facturacion"  ADD CONSTRAINT "fk_orden_unidad_medida_id" FOREIGN KEY ("id_unidad_medida") REFERENCES "unidad_medida" ("id");ALTER TABLE "orden_facturacion"  ADD CONSTRAINT "fk_orden_facturacion_orden_trabajo_id" FOREIGN KEY ("id_orden_trabajo") REFERENCES "orden_trabajo" ("id");ALTER TABLE "plan_produccion"  ADD CONSTRAINT "fk_plan_produccion_ueb_id" FOREIGN KEY ("id_ueb") REFERENCES "ueb" ("id");ALTER TABLE ueb_actividades_plan_produccion  ADD CONSTRAINT "fk_actividad_id" FOREIGN KEY ("id_actividad") REFERENCES "actividad" ("id");ALTER TABLE ueb_actividades_plan_produccion  ADD CONSTRAINT "fk_plan_id" FOREIGN KEY ("id_plan_produccion") REFERENCES "plan_produccion" ("id");ALTER TABLE "coeficiente"  ADD CONSTRAINT "fk_coeficiente_produccion" FOREIGN KEY ("id_coeficientes_gastos_indirectos_produccion") REFERENCES "coeficiente_gastos_indirectos_produccion" ("id");ALTER TABLE "coeficiente"  ADD CONSTRAINT "fk_coeficiente_bancario" FOREIGN KEY ("id_coeficiente_gastos_bancarios") REFERENCES "coeficiente_gastos_bancarios" ("id");ALTER TABLE "coeficiente"  ADD CONSTRAINT "fk_coeficiente_administracion" FOREIGN KEY ("id_coeficiente_gasto_generales_admon") REFERENCES "coeficiente_gastos_generales_admon" ("id");ALTER TABLE "coeficiente"  ADD CONSTRAINT "fk_coeficiente_distribucion_venta" FOREIGN KEY ("id_coeficiente_gastos_distribucion_ventas") REFERENCES "coeficiente_gastos_distribucion_ventas" ("id");ALTER TABLE "gastos_actividad"  ADD CONSTRAINT "fk_gasto_directo_actividad_id_actividad" FOREIGN KEY ("id_actividad") REFERENCES "actividad" ("id");ALTER TABLE "gastos_actividad"  ADD CONSTRAINT "fk_gasto_directo_actividad_id_gasto_directo" FOREIGN KEY ("id_gasto_directo") REFERENCES "gasto_directo" ("id");ALTER TABLE "gastos_actividad"  ADD CONSTRAINT "fk_gasto_directo_actividad_id_gasto_indirecto" FOREIGN KEY ("id_gasto_indirecto") REFERENCES "gasto_indirecto" ("id");